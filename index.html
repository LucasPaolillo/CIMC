<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de IMC</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 40px;
      width: 100%;
      max-width: 460px;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
    }

    .header {
      text-align: center;
      margin-bottom: 36px;
    }

    .header .icon {
      font-size: 48px;
      display: block;
      margin-bottom: 12px;
    }

    .header h1 {
      font-size: 26px;
      font-weight: 700;
      color: #fff;
      letter-spacing: 0.5px;
    }

    .header p {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.5);
      margin-top: 6px;
    }

    .unit-toggle {
      display: flex;
      background: rgba(255, 255, 255, 0.07);
      border-radius: 12px;
      padding: 4px;
      margin-bottom: 28px;
    }

    .unit-toggle button {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 9px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      background: transparent;
      color: rgba(255, 255, 255, 0.5);
    }

    .unit-toggle button.active {
      background: linear-gradient(135deg, #6c63ff, #a78bfa);
      color: #fff;
      box-shadow: 0 4px 15px rgba(108, 99, 255, 0.4);
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-group label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    .input-wrapper {
      position: relative;
    }

    .input-wrapper input {
      width: 100%;
      padding: 14px 60px 14px 18px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      font-size: 16px;
      color: #fff;
      outline: none;
      transition: all 0.3s;
    }

    .input-wrapper input::placeholder {
      color: rgba(255, 255, 255, 0.25);
    }

    .input-wrapper input:focus {
      border-color: #6c63ff;
      background: rgba(108, 99, 255, 0.12);
      box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
    }

    .input-wrapper .unit-label {
      position: absolute;
      right: 18px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.35);
      pointer-events: none;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .btn-calc {
      width: 100%;
      padding: 16px;
      margin-top: 8px;
      background: linear-gradient(135deg, #6c63ff, #a78bfa);
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      color: #fff;
      cursor: pointer;
      transition: all 0.3s;
      letter-spacing: 0.5px;
      box-shadow: 0 6px 20px rgba(108, 99, 255, 0.45);
    }

    .btn-calc:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(108, 99, 255, 0.6);
    }

    .btn-calc:active {
      transform: translateY(0);
    }

    .result-section {
      margin-top: 32px;
      display: none;
      animation: fadeUp 0.4s ease;
    }

    .result-section.show {
      display: block;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(16px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .divider {
      height: 1px;
      background: rgba(255, 255, 255, 0.08);
      margin-bottom: 28px;
    }

    .bmi-display {
      text-align: center;
      margin-bottom: 24px;
    }

    .bmi-value {
      font-size: 64px;
      font-weight: 800;
      line-height: 1;
      background: linear-gradient(135deg, #6c63ff, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .bmi-label {
      margin-top: 8px;
      font-size: 18px;
      font-weight: 700;
    }

    .bmi-desc {
      margin-top: 4px;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.45);
    }

    .gauge-wrap {
      margin: 20px 0;
    }

    .gauge-bar {
      height: 10px;
      border-radius: 99px;
      background: linear-gradient(
        to right,
        #38bdf8 0%,
        #34d399 20%,
        #facc15 40%,
        #fb923c 60%,
        #f87171 80%,
        #e11d48 100%
      );
      position: relative;
    }

    .gauge-pointer {
      width: 18px;
      height: 18px;
      background: #fff;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      transition: left 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .gauge-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
    }

    .gauge-labels span {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.35);
    }

    .categories {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 20px;
    }

    .cat-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.06);
      transition: all 0.3s;
    }

    .cat-item.highlight {
      background: rgba(108, 99, 255, 0.15);
      border-color: rgba(108, 99, 255, 0.4);
    }

    .cat-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .cat-info {
      flex: 1;
    }

    .cat-name {
      font-size: 12px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.75);
    }

    .cat-range {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.35);
    }

    .btn-reset {
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-reset:hover {
      border-color: rgba(255, 255, 255, 0.35);
      color: rgba(255, 255, 255, 0.8);
      background: rgba(255, 255, 255, 0.05);
    }

    .error-msg {
      color: #f87171;
      font-size: 13px;
      margin-top: 16px;
      text-align: center;
      display: none;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="header">
      <span class="icon">⚖️</span>
      <h1>Calculadora de IMC</h1>
      <p>Índice de Massa Corporal</p>
    </div>

    <div class="unit-toggle">
      <button class="active" id="btn-metric" onclick="setUnit('metric')">Métrico (kg / cm)</button>
      <button id="btn-imperial" onclick="setUnit('imperial')">Imperial (lb / in)</button>
    </div>

    <div class="input-group">
      <label>Peso</label>
      <div class="input-wrapper">
        <input type="number" id="weight" placeholder="Ex: 70" min="1" step="0.1" />
        <span class="unit-label" id="weight-unit">kg</span>
      </div>
    </div>

    <div class="row">
      <div class="input-group">
        <label>Altura</label>
        <div class="input-wrapper">
          <input type="number" id="height" placeholder="Ex: 175" min="1" step="0.1" />
          <span class="unit-label" id="height-unit">cm</span>
        </div>
      </div>
      <div class="input-group">
        <label>Idade</label>
        <div class="input-wrapper">
          <input type="number" id="age" placeholder="Ex: 25" min="1" max="120" />
          <span class="unit-label">anos</span>
        </div>
      </div>
    </div>

    <button class="btn-calc" onclick="calcular()">Calcular IMC</button>
    <p class="error-msg" id="error-msg">Por favor, preencha todos os campos corretamente.</p>

    <div class="result-section" id="result-section">
      <div class="divider"></div>

      <div class="bmi-display">
        <div class="bmi-value" id="bmi-value">--</div>
        <div class="bmi-label" id="bmi-label" style="color:#a78bfa">--</div>
        <div class="bmi-desc" id="bmi-desc"></div>
      </div>

      <div class="gauge-wrap">
        <div class="gauge-bar">
          <div class="gauge-pointer" id="gauge-pointer" style="left: 0%"></div>
        </div>
        <div class="gauge-labels">
          <span>Abaixo do peso</span>
          <span>Normal</span>
          <span>Obesidade</span>
        </div>
      </div>

      <div class="categories" id="categories">
        <div class="cat-item" id="cat-0">
          <div class="cat-dot" style="background:#38bdf8"></div>
          <div class="cat-info">
            <div class="cat-name">Abaixo do peso</div>
            <div class="cat-range">&lt; 18.5</div>
          </div>
        </div>
        <div class="cat-item" id="cat-1">
          <div class="cat-dot" style="background:#34d399"></div>
          <div class="cat-info">
            <div class="cat-name">Peso normal</div>
            <div class="cat-range">18.5 – 24.9</div>
          </div>
        </div>
        <div class="cat-item" id="cat-2">
          <div class="cat-dot" style="background:#facc15"></div>
          <div class="cat-info">
            <div class="cat-name">Sobrepeso</div>
            <div class="cat-range">25.0 – 29.9</div>
          </div>
        </div>
        <div class="cat-item" id="cat-3">
          <div class="cat-dot" style="background:#fb923c"></div>
          <div class="cat-info">
            <div class="cat-name">Obesidade I</div>
            <div class="cat-range">30.0 – 34.9</div>
          </div>
        </div>
        <div class="cat-item" id="cat-4">
          <div class="cat-dot" style="background:#f87171"></div>
          <div class="cat-info">
            <div class="cat-name">Obesidade II</div>
            <div class="cat-range">35.0 – 39.9</div>
          </div>
        </div>
        <div class="cat-item" id="cat-5">
          <div class="cat-dot" style="background:#e11d48"></div>
          <div class="cat-info">
            <div class="cat-name">Obesidade III</div>
            <div class="cat-range">&ge; 40.0</div>
          </div>
        </div>
      </div>

      <button class="btn-reset" onclick="resetar()">Calcular novamente</button>
    </div>
  </div>

  <script>
    let currentUnit = 'metric';

    const categories = [
      { id: 'cat-0', label: 'Abaixo do peso',   desc: 'Considere aumentar a ingestão calórica com orientação nutricional.',  color: '#38bdf8', min: 0,    max: 18.5 },
      { id: 'cat-1', label: 'Peso normal',       desc: 'Parabéns! Seu peso está dentro da faixa saudável recomendada.',       color: '#34d399', min: 18.5, max: 25   },
      { id: 'cat-2', label: 'Sobrepeso',         desc: 'Recomenda-se ajustes na dieta e prática regular de exercícios.',      color: '#facc15', min: 25,   max: 30   },
      { id: 'cat-3', label: 'Obesidade Grau I',  desc: 'Consulte um profissional de saúde para orientação personalizada.',    color: '#fb923c', min: 30,   max: 35   },
      { id: 'cat-4', label: 'Obesidade Grau II', desc: 'Acompanhamento médico é fortemente recomendado.',                     color: '#f87171', min: 35,   max: 40   },
      { id: 'cat-5', label: 'Obesidade Grau III',desc: 'Procure um médico imediatamente para avaliação completa.',            color: '#e11d48', min: 40,   max: Infinity },
    ];

    function setUnit(unit) {
      currentUnit = unit;
      document.getElementById('btn-metric').classList.toggle('active', unit === 'metric');
      document.getElementById('btn-imperial').classList.toggle('active', unit === 'imperial');
      document.getElementById('weight-unit').textContent = unit === 'metric' ? 'kg' : 'lb';
      document.getElementById('height-unit').textContent = unit === 'metric' ? 'cm' : 'in';
      document.getElementById('weight').placeholder = unit === 'metric' ? 'Ex: 70' : 'Ex: 154';
      document.getElementById('height').placeholder = unit === 'metric' ? 'Ex: 175' : 'Ex: 69';
      resetar();
    }

    function calcular() {
      const weightRaw = parseFloat(document.getElementById('weight').value);
      const heightRaw = parseFloat(document.getElementById('height').value);
      const age       = parseInt(document.getElementById('age').value);
      const errEl     = document.getElementById('error-msg');

      if (!weightRaw || !heightRaw || !age || weightRaw <= 0 || heightRaw <= 0 || age <= 0) {
        errEl.style.display = 'block';
        return;
      }
      errEl.style.display = 'none';

      let weightKg = weightRaw;
      let heightM  = heightRaw / 100;

      if (currentUnit === 'imperial') {
        weightKg = weightRaw * 0.453592;
        heightM  = heightRaw * 0.0254;
      }

      const bmi = weightKg / (heightM * heightM);
      mostrarResultado(bmi);
    }

    function mostrarResultado(bmi) {
      const cat = categories.find(c => bmi >= c.min && bmi < c.max) || categories[categories.length - 1];

      document.getElementById('bmi-value').textContent = bmi.toFixed(1);
      document.getElementById('bmi-label').textContent = cat.label;
      document.getElementById('bmi-label').style.color = cat.color;
      document.getElementById('bmi-desc').textContent  = cat.desc;

      const pct = Math.min(100, Math.max(0, ((bmi - 10) / 35) * 100));
      document.getElementById('gauge-pointer').style.left = pct + '%';

      categories.forEach((c) => {
        const el = document.getElementById(c.id);
        el.classList.toggle('highlight', c.id === cat.id);
      });

      const section = document.getElementById('result-section');
      section.classList.remove('show');
      void section.offsetWidth;
      section.classList.add('show');
    }

    function resetar() {
      document.getElementById('weight').value = '';
      document.getElementById('height').value = '';
      document.getElementById('age').value    = '';
      document.getElementById('result-section').classList.remove('show');
      document.getElementById('error-msg').style.display = 'none';
    }

    document.addEventListener('keydown', e => {
      if (e.key === 'Enter') calcular();
    });
  </script>
</body>
</html>
